<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title></title>
    <style>
      .div1 {
        width: 100px;
        height: 100px;
        border-radius: 50px;
        background-color: #bcbcbc;
        position: absolute;
        top: 100px;
      }
      input{
        width: 50px;
        height: 35px;
        text-align: center;
        background-color: rgb(96, 213, 221);
        border-radius: 10px;
        text-decoration: none;
        border: 0;
        margin: 0 20px;
      }
    </style>
  </head>
  <body>
    <div class="div1"></div>
    <input type="button" value="start" class="start">
    <input type="button" value="stop" class="stop">
  </body>
  <script>
//  function addevent(elem,eventer,func){
//    try{
//      if(elem!=null&& typeof elem=='object'){
//      if(window.addEventListener){
//       elem.addEventListener(eventer,func)
//      }else{
//       elem.attachEvent('on'+eventer,func)
//      }
//      }else{
//       throw new Error('buweikong')
//      }
//    }catch(error){
//     alert('error.message')
//    }
//   }

    var div1 = document.querySelector('.div1');
    var start = document.querySelector('.start')
    var stop = document.querySelector('.stop')
    var flag = true;
var timeres;
    start.addEventListener('click',function(){
    clearInterval(timeres)
    timeres = setInterval(function(){
      // 判断移动量 再给一个变量flag原因是只有一个移动距离的判断无法完成 
      // 只会在设置每次移动的距离来回移动 
    if(div1.offsetLeft <= 300 &&flag == true){
      div1.style.left = div1.offsetLeft+2+'px';
      if(div1.offsetLeft == 300){
        flag=false;
      }
    }else{
      // 将每次偏移的距离给样式上实现移动
      div1.style.left = div1.offsetLeft - 2 + 'px';
      if(div1.offsetLeft == 8&&flag==false){
        flag=true;
      }
    }
    },20)
   })
   stop.addEventListener('click',function(){
    clearInterval(timeres);
   })
  </script>
</html>
